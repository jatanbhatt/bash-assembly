{\rtf1\ansi\ansicpg1252\cocoartf1671
{\fonttbl\f0\fmodern\fcharset0 Courier;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;}
\margl1440\margr1440\vieww10800\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs26 \cf0 \expnd0\expndtw0\kerning0
%include\'a0"asm_io.inc"\
\
SECTION\'a0.data\
\
%include\'a0"asm_io.inc"\
\
SECTION\'a0.data\
\
err1:\'a0db\'a0"incorrect\'a0number\'a0of\'a0command\'a0line\'a0arguments",10,0\
err2:\'a0db\'a0"incorrect\'a0command\'a0line\'a0argument",10,0\
str1:\'a0db\'a0"Displaying\'a0shape\'a0of\'a0size\'a0",0\
str2:\'a0db\'a0"\'a0made\'a0of\'a0letters\'a0",0\
\
SECTION\'a0.bss\
\
SECTION\'a0.text\
\'a0\'a0\'a0global\'a0\'a0asm_main\
\
asm_main:\
\'a0\'a0\'a0enter\'a00,0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0;\'a0setup\'a0routine\
\'a0\'a0\'a0pusha\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0;\'a0save\'a0all\'a0registers\
\
\'a0\'a0\'a0mov\'a0eax,\'a0dword\'a0[ebp+8]\'a0\'a0\'a0;\'a0argc\
\'a0\'a0\'a0cmp\'a0eax,\'a0dword\'a02\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0;\'a0argc\'a0should\'a0be\'a02\
\'a0\'a0\'a0jne\'a0ERR1\
\'a0\'a0\'a0;\'a0so\'a0we\'a0have\'a0the\'a0right\'a0number\'a0of\'a0arguments\
\'a0\'a0\'a0mov\'a0ebx,\'a0dword\'a0[ebp+12]\'a0\'a0;\'a0address\'a0of\'a0argv[]\
\'a0\'a0\'a0mov\'a0eax,\'a0dword\'a0[ebx+4]\'a0\'a0\'a0;\'a0argv[1]\
\'a0\'a0\'a0;\'a0check\'a0that\'a0the\'a0string\'a0is\'a0either\'a0"1"\'a0or\'a0"2"\
\'a0\'a0\'a0;\'a0check\'a0the\'a0first\'a0byte,\'a0should\'a0be\'a0'1'\'a0or\'a0'2'\
\'a0\'a0\'a0;\'a0check\'a0the\'a0second\'a0byte,\'a0should\'a0be\'a00\
\'a0\'a0\'a0mov\'a0bl,\'a0byte\'a0[eax]\'a0\'a0\'a0\'a0\'a0\'a0\'a0;\'a01st\'a0byte\'a0of\'a0argv[1]\
\'a0\'a0\'a0cmp\'a0bl,\'a0byte\'a00\
\'a0\'a0\'a0je\'a0ERR2\
\'a0\'a0\'a0cmp\'a0bl,\'a0'0'\'a0\'a0\'a0\
\'a0\'a0\'a0jl\'a0ERR2\
\'a0\'a0\'a0cmp\'a0bl,\'a0'9'\
\'a0\'a0\'a0jg\'a0ERR2\
\'a0\'a0\'a0cmp\'a0bl,\'a0'1'\
\'a0\'a0\'a0je\'a0ERR2\
\'a0\'a0\'a0;\'a0byte\'a01\'a0is\'a0number\
\'a0\'a0\'a0sub\'a0bl,\'a0'0'\'a0;\'a0convert\'a0ASCII\'a0to\'a0number\
\'a0\'a0\'a0test\'a0bl,\'a01\'a0;\'a0check\'a0if\'a0lowest\'a0bit\'a0is\'a0set\
\'a0\'a0\'a0JZ\'a0ERR2\'a0;\'a0if\'a0even\
\
\'a0\'a0\'a0;\'a0check\'a0the\'a0second\'a0byte\
\'a0\'a0\'a0mov\'a0bl,\'a0byte\'a0[eax+1]\'a0\'a0\'a0\'a0\'a0;\'a02nd\'a0byte\'a0of\'a0argv[1]\
\'a0\'a0\'a0cmp\'a0bl,\'a0byte\'a00\
\'a0\'a0\'a0je\'a0ERR2\
\'a0\'a0\'a0cmp\'a0bl,\'a0'A'\
\'a0\'a0\'a0jl\'a0ERR2\
\'a0\'a0\'a0cmp\'a0bl,\'a0'Z'\
\'a0\'a0\'a0jg\'a0ERR2\
\'a0\'a0\'a0cmp\'a0byte\'a0[eax+2],\'a0byte\'a00\
\'a0\'a0\'a0jne\'a0ERR2\
\'a0\'a0\'a0;\'a0hence\'a0the\'a0argument\'a0is\'a0correct\'a0and\'a0its\'a0numeric\'a0value\
\'a0\'a0\'a0\
\'a0\'a0\'a0mov\'a0ecx,\'a00\
\'a0\'a0\'a0mov\'a0ebx,\'a00\
\'a0\'a0\'a0mov\'a0cl,\'a0byte\'a0[eax]\
\'a0\'a0\'a0mov\'a0bl,\'a0byte\'a0[eax+1]\
\
\
\'a0\'a0\'a0mov\'a0eax,\'a0str1\
\'a0\'a0\'a0call\'a0print_string\
\
\'a0\'a0\'a0mov\'a0al,\'a0cl\
\'a0\'a0\'a0call\'a0print_char\
\
\'a0\'a0\'a0mov\'a0eax,\'a0str2\
\'a0\'a0\'a0call\'a0print_string\
\
\'a0\'a0\'a0mov\'a0al,\'a0bl\
\'a0\'a0\'a0call\'a0print_char\
\'a0\'a0\'a0call\'a0print_nl\
\'a0\'a0\'a0\'a0\'a0\'a0\
\'a0\'a0\'a0jmp\'a0asm_main_end\
\
\'a0ERR1:\
\'a0\'a0\'a0mov\'a0eax,\'a0err1\
\'a0\'a0\'a0call\'a0print_string\
\'a0\'a0\'a0jmp\'a0asm_main_end\
\
\'a0ERR2:\
\'a0\'a0\'a0mov\'a0eax,\'a0err2\
\'a0\'a0\'a0call\'a0print_string\
\'a0\'a0\'a0jmp\'a0asm_main_end\
\
\'a0asm_main_end:\
\'a0\'a0\'a0popa\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0;\'a0restore\'a0all\'a0registers\
\'a0\'a0\'a0leave\
\'a0\'a0\'a0retx}